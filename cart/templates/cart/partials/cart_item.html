{% if item %}
<div class="product mb-6 flex pr-6" id="cart-item-{{ item.product.id }}">

  {% if item.product.slug %}
    <a href="{% url 'product' item.product.slug %}" class="w-1/4">
      <img class="hover:shadow-lg rounded-xl" src="{{ item.product.get_thumbnail }}" alt="{{ item.product.name }}">
    </a>
  {% else %}
    <div class="w-1/4">
      <img class="hover:shadow-lg rounded-xl" src="{{ item.product.get_thumbnail }}" alt="{{ item.product.name }}">
    </div>
  {% endif %}

  <div class="w-3/4 pl-6">
    <div class="flex justify-between items-start">
      <div>
        <div class="text-lg">{{ item.product.name }}</div>
        <div class="text-sm text-gray-500">In stock: {{ item.product.quantity }}</div>
      </div>
      <span class="mb-1 pt-1 text-gray-600">฿{{ item.total_price|floatformat:2 }}</span>
    </div>

    <hr class="my-4">

    <div class="quantity flex items-center gap-3">

      <a href="#"
         class="px-3 py-2 bg-gray-100 rounded hover:bg-gray-200"
         hx-get="{% url 'update_cart' item.product.id 'decrement' %}"
         hx-target="#cart-item-{{ item.product.id }}"
         hx-swap="outerHTML">−</a>

      <span class="min-w-6 text-center">{{ item.quantity }}</span>

      <a href="#"
         class="px-3 py-2 rounded
                {% if item.quantity >= item.product.quantity %}
                   bg-gray-200 cursor-not-allowed pointer-events-none
                {% else %}
                   bg-gray-100 hover:bg-gray-200
                {% endif %}"
         {% if item.quantity < item.product.quantity %}
           hx-get="{% url 'update_cart' item.product.id 'increment' %}"
           hx-target="#cart-item-{{ item.product.id }}"
           hx-swap="outerHTML"
         {% endif %}>+</a>

      <a href="#"
         class="ml-4 px-3 py-2 rounded bg-red-500 text-white hover:bg-red-600"
         hx-get="{% url 'update_cart' item.product.id 'remove' %}"
         hx-target="#cart-item-{{ item.product.id }}"
         hx-swap="outerHTML">Delete</a>
    </div>
  </div>
</div>
{% endif %}
